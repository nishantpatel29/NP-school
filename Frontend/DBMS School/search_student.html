<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
    <!-- nav-bar -->
    <header>
        <!-- <div class="rope"></div> -->
        <div class="header-div">      
            <div class="logo-name-div">
        <img src="graduation-hat.png" class="logo-img" alt="logo" >
        <div class="main-name">
            <h3>NK</h3>
            <p>School</p>
        </div>
    </div>
        <ul class="header-menu">
        
            <li> <a href="index.html" class="b ">Home</a></li>
            <!-- <li> <a href="/" class="b">Services</a></li> -->
            <!-- <li> <a href="/" class="b">Contact</a></li> -->
            <li> <a href="faculty.html" class="b">Faculty</a></li>
            <li> <a href="search_student.html" class="b home-btn">Students</a></li>
            <li> <a href="about.html" class="b ">About</a></li>
           
    
        </ul>
        
        </div>
    </header>  
<!-- search  -->
<div class="search">
    <h2 style="background-color: #030d1e; color: white;">Get Student Info</h2>
    <div class="search-faculty-div student-s" id="nishant">
    <textarea name="" class="by firstname" id="s_firstname"  cols="30" rows="10" placeholder="By Firstname"></textarea>
    <li class="or">or</li> 
    <textarea name="" class="by surname" id="s_surname"  cols="30" rows="10" placeholder="By Surname"></textarea>
    <li class="or">or</li> 
    <textarea name="" class="by std" id="s_std"  cols="30" rows="10" placeholder="By Std"></textarea>
    <li class="or">or</li> 
    <textarea name="" class="by gender" id="s_gender"  cols="30" rows="10" placeholder="By Gender"></textarea>
    <li class="or">or</li> 
    <textarea name="" class="by percentage" id="s_percentage"  cols="30" rows="10" placeholder="By Percentage"></textarea>
</div>
<div class="student_btn">
    <button class="search-btn" onclick="click1()">Search</button>
<button class="search-btn" onclick="eleventh(11)">11th Toppers</button>
<button class="search-btn" onclick="eleventh(12)">12th Toppers</button>
</div>
<div class="display_faculty stu-dis" id="res">hi</div>
</div>
          <!-- footer -->
          <footer class="footer">
            <div class="container-main">
                <div class="media-links">
            
<div data-aos="fade-up"
     data-aos-duration="400">

                <h2 class="heading">NK School</h2>
                <p class="writing">Let's revolutionize the way you study with NK School</p>
            </div>
                <div class="social">
                    <a href="https://www.instagram.com/nishantpatel_29?utm_source=qr&igsh=am80MW13MW1rZXgz" class="media"><div data-aos="flip-left"><i class="fa-brands fa-instagram"></i></div></a>
                    <a href="twitter" class="media"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="discord" class="media"><i class="fa-brands fa-discord"></i></a>
                </div>
                <h6 class="copyright">  &#xa9 Copyright reserved by NK School</h6>
                </div>
             
               
            </div>
        </footer>
    <script>
        // rope
        headerdiv=document.querySelector(".header-div");
        headerdiv.style.top="0rem";
    </script>
    <script>
        // search
        btnDiv=document.querySelector(".student_btn");
        by=document .querySelectorAll(".by");
        document.querySelectorAll("li");
        searchdivfaculty=document.querySelector(".search-faculty-div");
        searchdivfaculty.addEventListener('click',(e)=>{
            e.target.style.width="30rem";
            e.target.style.transition="all 0.5s linear";
            // Get a reference to the parent element of the elements you want to filter
            const parentElement = document.getElementById('parentElementId');
            
            // Get all child elements of the parent element
            const childElements =searchdivfaculty.children;
            
            // Convert childElements to an array for easier manipulation
            const childElementsArray = Array.from(childElements);
            
            // Filter out the event.target from the array of child elements
            const elementsToRemove = childElementsArray.filter(element => element !== event.target);
            
            // Remove each element from the DOM
            elementsToRemove.forEach(element => {
                element.parentNode.removeChild(element);
            });
            document.querySelector(".display_faculty").transition = "all 1s ease-in 1s";
        // document.querySelector(".display_faculty").style.boxShadow = "0px 7px 29px 0px rgba(100, 100, 200, 0.4)";
        })
        btnDiv.addEventListener('click',()=>{
            document.querySelector(".display_faculty").style.backgroundColor="#030d1e";
            document.querySelector(".display_faculty").style.boxShadow = "0px 7px 29px 0px rgba(100, 100, 200, 0.4)";
        })
        </script>
        <!-- backend -->
        <script src="../script.js"></script>
        <script >
            nishant=document.querySelector("#nishant")
            s_firstname=document.querySelector("#s_firstname");
            s_surname=document.querySelector("#s_surname");
            s_std=document.querySelector("#s_std");
            s_gender=document.querySelector("#s_gender");
            s_percentage=document.querySelector("#s_percentage");
            var n=3;
        let qq= undefined;
            nishant.addEventListener('click',(e)=>{
                if(e.target.id==s_firstname.id){
                    n=1;
                }
                else if(e.target.id==s_surname.id){
                    n=2;
                }
                else if(e.target.id==s_std.id){
                    n=3;
                }
                else if(e.target.id==s_gender.id){
                    n=4;
                }
                else if(e.target.id==s_percentage.id){
                    n=5;
                }
                
                e.target.addEventListener('blur',(e)=>{

                })
            });
            click1=()=>{
                if(n==1){
                    search1();
                }
                else if(n==2){
                    search2();
                }
                else if(n==3){
                    search3();
                }
                else if(n==4){
                    search4();
                }
                else if(n==5){
                    search5();
                }
            
            }
            const search1 = ()=>{
            let div = document.getElementById('res');
            val = $('#s_firstname')[0].value;
            $.post('../s_firstname.php',{name:val},(res,req)=>{
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
            const search2 = ()=>{
            let div = document.getElementById('res');
            val = $('#s_surname')[0].value;
            $.post('../s_surname.php',{name:val},(res,req)=>{
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
            const search3 = ()=>{
            let div = document.getElementById('res');
            val = $('#s_std')[0].value;
            $.post('../s_std.php',{name:val},(res,req)=>{
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
            const search4 = ()=>{
            let div = document.getElementById('res');
            val = $('#s_gender')[0].value;
            $.post('../s_gender.php',{name:val},(res,req)=>{
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
            const search5 = ()=>{
            let div = document.getElementById('res');
            val = $('#s_percentage')[0].value;
            $.post('../s_percentage.php',{name:val},(res,req)=>{
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
            const eleventh = (s)=>{
            let div = document.getElementById('res');
            $.post('../s_eleventh.php',{std:s},(res,req)=>{
                console.log(res,req);
                i=1;
                div.innerHTML = "<table><tr><th>No.</th><th>Name</th><th>Surname</th><th>STD</th><th>Percentage</th></tr></table><br>";
                res.forEach(e=>{
                    div.innerHTML+="<br><table><tr><td>"+i+"</td><td>"+e.Firstname+"</td><td>"+e.Surname+"</td><td>"+e.STD+"</td><td>"+e.Pr+"%</td>"+"</tr></table>";
                    i=i+1;
                })
                
            })
        }
        </script>
</body>
</html>